<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function myreplace(message, clientobj, selectedcol) {
        let keys = Object.keys(clientobj[0]);
        let msgarray = new Array();
        let phoneArray = new Array();
        let namearr = new Array();
        let emailarray = new Array();
        let changecount = 2;

        for (let i = 0; i < keys.length; i++) {
          for (let j = 0; j < selectedcol.length; j++) {
            if (keys[i] == selectedcol[j]) {
              let custommsg;
              for (let k = 0; k < clientobj.length; k++) {
                let values = Object.values(clientobj[k]);
                if (keys[i] == selectedcol[0]) {
                  namearr.push(values[i]);
                }
                if (keys[i] == selectedcol[2]) {
                  emailarray.push(values[i]);
                }
                if (keys[i] == selectedcol[1]) {
                  phoneArray.push(values[i]);
                }
              }
            }
          }
        }

        console.log(phoneArray);
        console.log(namearr);
        console.log(emailarray);

        let tempmsg;
        for (let k = 0; k < selectedcol.length; k++) {
          tempmsg = message.replace("{name}", namearr[k]);
          tempmsg = tempmsg.replace("[URL]", emailarray[k]);
          msgarray.push(tempmsg);
        }
        // console.log(msgarray);
        return msgarray;
      }
      const message =
        "Hey {name} the wait is finally over! We know you wanted you to be the first to hear about our spring collection ??‍♀??‍♂ Check it out here! [URL]";
      let clientobj = [
        {
          name: "sakshi",
          rollno: "101",
          sem: "6",
          email: "sakshirangwala@gmail.com",
          phone: "7624032023",
        },
        {
          name: "poojan",
          rollno: "102",
          sem: "6",
          email: "poojangheewala7@gmail.com",
          phone: "9313054702",
        },
        {
          name: "harsh",
          rollno: "106",
          sem: "6",
          email: "hpgh048@gmail.com",
          phone: "9601376471",
        },
      ];
      let selectedcol = ["name", "phone", "email"];
      console.log(myreplace(message, clientobj, selectedcol));
    </script>
  </body>
</html>
